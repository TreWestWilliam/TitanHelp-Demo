@page "/Newticket"
@using Microsoft.Extensions.Logging
@using TitanHelp_Demo.Models
@using Smart.Blazor
@inject ILogger<Models.Ticket> Logger

<h2>newticket</h2>
<EditForm Model="@ticket" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    
    <p class="form-group">
        <label class="form-input form-input-impressed">
            Ticket Title:
            <InputText @bind-Value="ticket.title" />
        </label>
    </p>
    <p class="form-group">
        <label class="form-input form-input-impressed">
            Full Name:
            <InputText @bind-Value="ticket.FullName" />
        </label>
    </p>
    <p class="form-group">
         <label class="form-input form-input-impressed">
            Problem Description:
            <InputTextArea @bind-Value="ticket.Content" />
        </label>
    </p>
    <p class="form-group">
            <label class="form-input form-input-impressed">
            Ticket Date:
            <InputDate @bind-Value="ticket.CreationDT" />
         </label>
    </p>


    <div class="ticket-block">
        <p class="text-gray-base text-medium">
            
                <code>Ticket Title</code>: @ticket.title<br />
                <code>Full Name</code>: @ticket.FullName<br />
            <code>Problem Description</code>: @ticket.Content<br />
            <code>Date created</code>: @ticket.CreationDT
            
        </p>
    </div>
    <br />

        <button type="submit" class="button button-sm button-primary-filled">Save Ticket</button>
    
</EditForm>

@code {
    private Ticket ticket = new Ticket();

    private void HandleValidSubmit()
    {
        Logger.LogInformation("HandleValidSubmit called");

        // Call the method that adds ticket to database

    }
    
}




